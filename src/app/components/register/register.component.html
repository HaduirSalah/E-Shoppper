@if (!msgError && !msgSuccess) {
  <div class="px-xl-5">
   

<form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="shadow-lg p-4 rounded-4">
    <h1 class="h2 text-main">Register Now:</h1>
    <div class="my-2">
        <label for="name">name:</label>
        <input type="text" id="name" class="form-control" formControlName="name" [ngClass]="{
        'is-valid':
          !registerForm.get('name')?.errors &&
          (registerForm.get('name')?.touched ||
            registerForm.get('name')?.dirty),

        'is-invalid':
          registerForm.get('name')?.errors &&
          (registerForm.get('name')?.touched || registerForm.get('name')?.dirty)
      }" />

        @if (registerForm.get('name')?.errors && (registerForm.get('name')?.touched
        || registerForm.get('name')?.dirty )) {

        <div class="alert alert-danger">
            @if (registerForm.get('name')?.getError('required')) {
            <p class="m-0">Name is required</p>
            } @else if (registerForm.get('name')?.getError('minlength')) {
            <p class="m-0">Name Should be more than or equal 3 chars</p>
            } @else if (registerForm.get('name')?.getError('maxlength')) {
            <p class="m-0">Name Should be less than or equal 20 chars</p>
            }
        </div>
        }
    </div>

    <div class="my-2">
        <label for="email">email:</label>
        <input type="email" id="email" class="form-control" formControlName="email" [ngClass]="{
        'is-valid':
          !registerForm.get('email')?.errors &&
          (registerForm.get('email')?.touched ||
            registerForm.get('email')?.dirty),
        'is-invalid':
          registerForm.get('email')?.errors &&
          (registerForm.get('email')?.touched ||
            registerForm.get('email')?.dirty)
      }" />
        @if (registerForm.get('email')?.errors &&
        (registerForm.get('email')?.touched || registerForm.get('email')?.dirty )) {
        <div class="alert alert-danger">
            @if (registerForm.get('email')?.getError('required')) {
            <p class="m-0">Email is required</p>
            } @else if (registerForm.get('email')?.getError('email')) {
            <p class="m-0">Enter Valid Email</p>
            }
        </div>
        }
    </div>

    <div class="my-2">
        <label for="password">password:</label>
        <input type="password" id="password" class="form-control" formControlName="password" [ngClass]="{
        'is-valid':
          !registerForm.get('password')?.errors &&
          (registerForm.get('password')?.touched ||
            registerForm.get('password')?.dirty),

        'is-invalid':
          registerForm.get('password')?.errors &&
          (registerForm.get('password')?.touched ||
            registerForm.get('password')?.dirty)
      }" />
        @if (registerForm.get('password')?.errors &&
        (registerForm.get('password')?.touched ||
        registerForm.get('password')?.dirty )) {
        <div class="alert alert-danger">
            @if (registerForm.get('password')?.getError('required')) {
            <p class="m-0">Password is required</p>
            } @else if (registerForm.get('password')?.getError('pattern')) {
            <p class="m-0">Enter Valid password</p>
            }
        </div>
        }
    </div>
    <!-- TODO -->
    <div class="my-2">
        <label for="rePassword">rePassword:</label>
        <input type="password" id="rePassword" class="form-control" formControlName="rePassword" [ngClass]="{
        'is-valid':
          registerForm.get('rePassword')?.value &&
          !registerForm.get('rePassword')?.errors &&
          !registerForm.getError('mismatch') &&
          (registerForm.get('rePassword')?.touched ||
            registerForm.get('rePassword')?.dirty),
        'is-invalid':
          (registerForm.get('rePassword')?.errors ||
            registerForm.getError('mismatch')) &&
          (registerForm.get('rePassword')?.touched ||
            registerForm.get('rePassword')?.dirty)
      }" />
        <!-- @if (registerForm.get('rePassword')?.errors &&
            registerForm.get('rePassword')?.touched) {
            <div class="alert alert-danger">
                @if (registerForm.get('rePassword')?.getError('required')) {
                <p class="m-0">RePassword is required</p>
                } @else if (registerForm.get('rePassword')?.getError('pattern')) {
                <p class="m-0">Enter Valid rePassword</p>
                }
            </div>
            } -->
        @if (registerForm.getError('mismatch') &&
        (registerForm.get('rePassword')?.touched ||
        registerForm.get('rePassword')?.dirty ) ){
        <p class="alert alert-danger m-0">Password confirmation is incorrect</p>
        }
    </div>

    <div class="my-2">
        <label for="phone">phone:</label>
        <input type="tel" id="phone" class="form-control" formControlName="phone" [ngClass]="{
        'is-valid':
          !registerForm.get('phone')?.errors &&
          (registerForm.get('phone')?.touched ||
            registerForm.get('phone')?.dirty),

        'is-invalid':
          registerForm.get('phone')?.errors &&
          (registerForm.get('phone')?.touched ||
            registerForm.get('phone')?.dirty)
      }" />
        @if (registerForm.get('phone')?.errors &&
        (registerForm.get('phone')?.touched || registerForm.get('phone')?.dirty )) {
        <div class="alert alert-danger">
            @if (registerForm.get('phone')?.getError('required')) {
            <p class="m-0">Phone is required</p>
            } @else if (registerForm.get('phone')?.getError('pattern')) {
            <p class="m-0">Enter Valid phone</p>
            }
        </div>
        }
    </div>

    <!-- <button [disabled]="registerForm.invalid || isLoading" type="submit" class="btn btn-main d-block ms-auto">
            Register
            @if (isLoading) {
                <span>
                    <i class="fas fa-spinner fa-spin"></i>
                </span>
            }
        </button> -->

    <!-- <button [disabled]="registerForm.invalid || isLoading" type="submit"
        class="btn btn-primary btn-main border-0 px-5 py-3 ms-auto d-block">
        Register @if (isLoading) {
        <span>
            <i class="fas fa-spinner fa-spin"></i>
        </span>
        }
    </button> -->

    
    <button type="submit"
        class="btn btn-primary btn-main border-0 px-5 py-3 ms-auto d-block">
        Register @if (isLoading) {
        <span>
            <i class="fas fa-spinner fa-spin"></i>
        </span>
        }
    </button>

    <!-- ms-auto -> block or inline-block not inline -->
</form>
</div>
}   
@else if(msgError) {
<p class="alert alert-danger m-0">
    {{ msgError }}
</p>
}

@else if (msgSuccess) {
    <div class="container mt-5">
        <div class="row justify-content-center">
          <div class="col-md-6 text-center">
            <div class="card">
              <div class="card-body">
                <div class="mb-4">
                  <i class="fas fa-check-circle fa-5x text-success"></i>
                </div>
                <h2 class="card-title">Register Successful, wait to navigate to login!</h2>
              </div>
            </div>
          </div>
        </div>
      </div>
}
<!-- 
1- add form group and form controls in TS
2- add design for form in html
3- html combine with TS
 -->

